<p-button label="exercices" [routerLink]="['/rxjs/exercices']"></p-button>
<p-panel header="Recherche de communes depuis une région">
 <div class="p-grid">
   <div class="p-col-4">
     <p-dropdown placeholder="Choix région"
                 [options]="regionList$ | async"
                 (onChange)="changeDeptList($event)"
                 optionLabel="nom"

     ></p-dropdown>
   </div>
   <div class="p-col-4">
     <p-dropdown placeholder="Choix département"
                 [options]="departementList$ | async"
                 (onChange)="changecommList($event)"
                 optionLabel="nom"
     ></p-dropdown>
   </div>
   <div class="p-col-4">
     <p-dropdown placeholder="Choix commune"
                 [options]="communeList$ | async"
                 optionLabel="nom"
     ></p-dropdown>
   </div>
 </div>
</p-panel>
<p-panel header="tableau des communes">
  <p-table [value]="communeList$ | async"
           [columns]="cols"
  >
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let col of cols">{{col.header}}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-comm>
      <tr>
        <td *ngFor="let col of cols">
          <span *ngIf="col.field == 'code'">
<!--            <a [routerLink]="['/rxjs/' + comm[col.field]]">{{comm[col.field]}}</a>-->
            <a (click)="goToDetail(comm[col.field])">{{comm[col.field]}}</a>
          </span>
          <span *ngIf="col.field != 'code'">{{comm[col.field]}}</span>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td [colSpan]="cols.length">
          <h4>Aucune commune</h4>
        </td>
      </tr>

    </ng-template>
  </p-table>
</p-panel>
